# Bruteforce and Password cracking Live -lab

## Objectives:
1. Find the password of user "student" using Hydra. Use password dictionary: /usr/share/wordlists/rockyou.txt.gz
> Answer: friend
2. Find the password of user "administrator" use appropriate Nmap script. Use password dictionary: /usr/share/nmap/nselib/data/passwords.lst
> Answer: sunshine
3. Find the password of user "root" using the ssh_login Metasploit module. Use userpass dictionary: /usr/share/wordlists/metasploit/root_userpass.txt
> Answer: attack

## Recommended tools: 
* Metasploit Framework
* Hydra
* Nmap

## Target:

* Hostname: http://demo.ine.local - 192.201.234.3 (In the metasploit objective, the IP address changed to 192.161.99.3 due to the lab instance crashing)
* Service: ssh - OpenSSH 7.2
* OS: Ubuntu 4.15 - 5.6

## Solution:

Check that the target is alive:
    
![screenshot](../pentesting-basics/pictures/pw-cracking-lab-1.jpg)

Run a port scan with version detection

![screenshot](../pentesting-basics/pictures/pw-cracking-lab-5.jpg)

Run OS detection scan:

![screenshot](../pentesting-basics/pictures/pw-cracking-lab-6.jpg)


## 1. Find the password of user "student" using Hydra

Run hydra with the following options:

* -l: Specify the username to use
* -P: Specify the wordlist to use for passwords
* -f: Stop trying after the first valid password is found
* -V: Verbose - display all attempts

![screenshot](../pentesting-basics/pictures/pw-cracking-lab-3.jpg)

Password 'friend' is found for username 'student'. 

![screenshot](../pentesting-basics/pictures/pw-cracking-lab-4.jpg)


## 2. Find the password of user "administrator" use appropriate Nmap script

Since the target is an ssh server, the script to use is ssh-brute. The username "administrator" is added to a file called user and the following command is run to brute force the password:

![screenshot](../pentesting-basics/pictures/pw-cracking-lab-7.jpg)

The password for administrator is found to be sunshine:

![screenshot](../pentesting-basics/pictures/pw-cracking-lab-8.jpg)

Check the password by logging in to the service with administrator:sunshine:

![screenshot](../pentesting-basics/pictures/pw-cracking-lab-9.jpg)


## 3. Find the password of user "root" using the ssh_login Metasploit module

The module to be used is auxiliary/scanner/ssh/ssh_login. 

Options that were set for the tool are:

* RHOSTS -> 192.161.99.3
* STOP_ON_SUCCESS -> TRUE
* USERPASS_FILE -> /usr/share/wordlists/metasploit/root_userpass.txt
* VERBOSE -> TRUE

![screenshot](../pentesting-basics/pictures/pw-cracking-lab-10.jpg)

The password for root was found to be 'attack'. This can be confirmed by logging into the service with the credentials root:attack. 
